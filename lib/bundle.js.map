{"version":3,"sources":["webpack:///webpack/bootstrap 2397ed5c2fce5068f653","webpack:///./lib/util.js","webpack:///./lib/game.js","webpack:///./lib/cat.js","webpack:///./lib/main.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;AChEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;;;;;;;ACrCA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D,kBAAkB;AAC7E;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,WAAW;AACtD;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,kDAAkD,8BAA8B;AAChF;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;;;;;;ACtOA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,8CAA8C;AAC3D;AACA;AACA,KAAK;AACL;AACA,CAAC;;;AAGD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;AAIA;;AAEA;;;;;;;AClFA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC","file":"./lib/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 2397ed5c2fce5068f653","const Util = {\n  // Normalize the length of the vector to 1, maintaining direction.\n  dir (vec) {\n    const norm = Util.norm(vec);\n    return Util.scale(vec, 1 / norm);\n  },\n  // Find distance between two points.\n  dist (pos1, pos2) {\n    return Math.sqrt(\n      Math.pow(pos1[0] - pos2[0], 2) + Math.pow(pos1[1] - pos2[1], 2)\n    );\n  },\n  // Find the length of the vector.\n  norm (vec) {\n    return Util.dist([0, 0], vec);\n  },\n  // Return a randomly oriented vector with the given length.\n  randomVec (length) {\n    const deg = Math.PI*2/3 * Math.random() + 7*Math.PI/6;\n    return Util.scale([Math.sin(deg), Math.cos(deg)], length);\n  },\n  // Scale the length of a vector by the given amount.\n  scale (vec, m) {\n    return [vec[0] * m, vec[1] * m];\n  },\n\n  bounce (coord, max) {\n    if (coord > max) {\n      return max - (coord % max);\n    } else if (coord < 0) {\n      return -coord;\n    } else {\n      return coord;\n    }\n  }\n};\n\nmodule.exports = Util;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/util.js\n// module id = 0\n// module chunks = 0","const Cat = require(\"./cat\");\nconst Util = require(\"./util\");\n\nconst bgImg = new Image();\nbgImg.src = './lib/images/desert_BG.png';\n\nconst yugehand = new Image();\nyugehand.src = './lib/images/yugehand.png';\nconst newCursor = new createjs.Bitmap(yugehand);\nnewCursor.regX = 10;\nnewCursor.regY = 10;\n\nconst KITMO = {};\nKITMO.WIDTH = 200;\nKITMO.HEIGHT = 200;\n\nconst CARPET = {};\nCARPET.WIDTH = 100;\n\nconst trumpisms = [\n  \"Really tremendous!\",\n  \"You're, like, a smart person!\",\n  \"Bigly!\",\n  \"Just fantastic!\",\n  \"Yuge performance!\",\n  \"The greatest, believe me!\",\n  \"Such a nasty kitty.\",\n  \"Lock him up!\"\n];\n\nconst congrats = new createjs.Text('', 'bold 20px Arial', 'white');\n\nclass Game {\n\n  constructor(canvas, stage) {\n    this.canvas = canvas;\n    this.stage = stage;\n    this.fps = 30;\n    this.cats = [];\n    this.catRate = .01;\n    this.catRateIncrease = this.catRate/(this.fps*3600);\n    // this.hombreRate = .001;\n    // this.hombreRateIncrease = .000001;\n\n\n\n\n    this.addCat = this.addCat.bind(this);\n    this.tick = this.tick.bind(this);\n\n  }\n\n  load() {\n    const bg = new createjs.Shape();\n    bg.graphics.beginFill(\"black\").drawRect(0, 0, this.canvas.width, this.canvas.height - KITMO.HEIGHT);\n    const carpet = new createjs.Shape();\n    carpet.graphics.beginFill(\"red\").drawRect(0, 0, CARPET.WIDTH, this.canvas.height - KITMO.HEIGHT);\n\n    const kitmo = new createjs.Container();\n    kitmo.x = 0;\n    kitmo.y = this.canvas.height - KITMO.HEIGHT;\n    const kitmoBG = new createjs.Shape();\n    kitmoBG.graphics.beginFill(\"grey\").drawRect(0, 0, KITMO.WIDTH, KITMO.HEIGHT);\n    const kitmoLabel = new createjs.Text(\"Kitmo\", 'bold 20px Arial', 'black');\n    kitmoLabel.x = 20;\n    kitmoLabel.y = 20;\n    kitmo.addChild(kitmoBG, kitmoLabel);\n\n    const panel = new createjs.Container();\n    panel.x = KITMO.WIDTH;\n    panel.y = this.canvas.height - KITMO.HEIGHT;\n    const panelBG = new createjs.Shape();\n    panelBG.graphics.beginFill(\"black\").drawRect(0, 0, this.canvas.width - KITMO.WIDTH, KITMO.HEIGHT);\n    this.score = 0;\n    this.scoreDisplay = new createjs.Text('Score: 0', 'bold 20px Arial', 'white');\n    this.scoreDisplay.x = 20;\n    this.scoreDisplay.y = 20;\n    this.carpetHealth = 1000;\n    this.healthDisplay = new createjs.Text(`Carpet Left: ${this.carpetHealth}`, 'bold 20px Arial', 'white');\n    this.healthDisplay.x = 220;\n    this.healthDisplay.y = 20;\n    panel.addChild(panelBG, this.scoreDisplay, this.healthDisplay);\n\n    newCursor.x = this.stage.mouseX;\n    newCursor.y = this.stage.mouseY;\n\n    congrats.text = '';\n    congrats.x = this.canvas.width/2 - 50;\n    congrats.y = 50;\n\n    this.stage.addChild(bg, carpet, kitmo, panel, newCursor, congrats);\n    this.showInstructionsScreen();\n    this.stage.update();\n\n  }\n\n  start(){\n    createjs.Ticker.setFPS(this.fps)\n    createjs.Ticker.addEventListener(\"tick\", this.tick);\n  }\n\n  tick(e) {\n    newCursor.x = this.stage.mouseX;\n    newCursor.y = this.stage.mouseY;\n    if (Math.random() < this.catRate){\n      this.addCat();\n    }\n    this.moveCats(e.delta);\n    if (this.carpetHealth <= 0) {\n      this.healthDisplay.text = 0;\n      this.gameOver();\n    }\n    this.catRate += this.catRateIncrease;\n    this.stage.update();\n  }\n\n  addCat() {\n    let cat = new Cat(this);\n    this.cats.push(cat);\n    this.stage.addChild(cat.container);\n    cat.container.on(\"pressmove\", function(evt) {\n      cat.moving = false;\n      cat.sprite.stop();\n      cat.container.x = evt.stageX;\n      cat.container.y = evt.stageY;\n    });\n    cat.container.on(\"pressup\", (evt) => {\n      cat.moving = true;\n      cat.sprite.play();\n      if (this.isInKitmo([evt.stageX, evt.stageY])){\n        this.stage.removeChild(cat.container);\n        this.cats.splice(this.cats.indexOf(cat), 1);\n        this.score += 100;\n        this.scoreDisplay.text = `Score: ${this.score}`;\n        congrats.text = trumpisms[Math.floor(trumpisms.length * Math.random())];\n      }\n    })\n  }\n\n  gameOver(){\n    createjs.Ticker.removeAllEventListeners(\"tick\");\n    this.showLoseScreen();\n  }\n\n  isOutOfBoundsY(pos) {\n    return ((pos[1] < 34) || (pos[1] > this.canvas.height - KITMO.HEIGHT - 34));\n  }\n\n  isOutOfBoundsX(pos) {\n    return ((pos[0] < 100) || (pos[0] > this.canvas.width));\n  }\n\n  isInKitmo(pos) {\n    return ((pos[1] < this.canvas.height) &&\n    (pos[1] > this.canvas.height - KITMO.HEIGHT) &&\n    (pos[0] > 0) && (pos[0] < KITMO.WIDTH));\n  }\n\n  showInstructionsScreen(){\n    let container = new createjs.Shape();\n    container.graphics.beginFill(\"black\").drawRect(0, 0, this.canvas.width, this.canvas.height);\n    container.alpha = 0.5;\n    container.x = 0;\n    container.y = 0;\n\n    let message = new createjs.Text(\"Your beautiful, classy red carpet is under attack by a swarm of nasty kitties. Thanks Obama! Use your tremendous and not at all undersized hands to click and drag those bad hombres into our high-security feline detention facility (codename Kitmo). Click when ready.\", 'bold 24px Arial', 'white');\n    message.lineWidth = this.canvas.width -100;\n    message.x = 50;\n    message.y = 50;\n\n    this.stage.addChild(container);\n    this.stage.addChild(message);\n\n    container.addEventListener(\"click\", e => {\n      this.stage.removeChild(container);\n      this.stage.removeChild(message);\n      this.stage.update();\n      this.start();\n    });\n  }\n\n  showLoseScreen(){\n    let container = new createjs.Shape();\n    container.graphics.beginFill(\"black\").drawRect(0, 0, this.canvas.width, this.canvas.height);\n    container.alpha = 0.5;\n    container.x = 0;\n    container.y = 0;\n\n    let message = new createjs.Text(\"YOU LOSE! SAD!\\nClick to try again.\", 'bold 72px Arial', 'white');\n    message.lineWidth = this.canvas.width/2;\n    message.x = this.canvas.width/4;\n    message.y = this.canvas.height/2 - 200;\n\n    this.stage.addChild(container);\n    this.stage.addChild(message);\n    container.addEventListener(\"click\", e => {\n      this.cats = [];\n      this.stage.removeAllChildren();\n      this.load();\n    });\n  }\n\n  moveCats(delta) {\n    this.cats.forEach((cat) => {\n      if (cat.moving){\n        this.stage.removeChild(cat.container)\n        cat.move(delta);\n        this.stage.addChild(cat.container);\n      } else if (cat.scratching) {\n        this.carpetHealth = this.carpetHealth - (cat.dmg * delta/1000);\n        this.healthDisplay.text = `Carpet Left: ${Math.floor(this.carpetHealth)}`;\n      }\n    });\n  }\n\n  randomPosition() {\n    return [\n      this.canvas.width,\n      (this.canvas.height - 268) * Math.random() + 34\n    ];\n  }\n\n  bounce(pos) {\n    return [\n      pos[0], Util.bounce(pos[1], this.canvas.height)\n    ];\n  }\n\n}\n\nmodule.exports = Game;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/game.js\n// module id = 1\n// module chunks = 0","const Util = require(\"./util\");\n\nconst DEFAULTS = {\n\tCOLOR: \"#505050\",\n\tRADIUS: 40,\n\tSPEED: 200,\n  DMG: 20\n};\n\nconst BAD_HOMBRE = {\n  COLOR: \"#505050\",\n  RADIUS: 40,\n  SPEED: 400,\n  DMG: 40\n};\n\nconst catSprites = new Image();\ncatSprites.src = './lib/images/catsprites.gif';\nconst spriteSheet = new createjs.SpriteSheet({\n    // image to use\n    images: [catSprites],\n    // width, height & registration point of each sprite\n    frames: {width: 91, height: 67, regX: 45.5, regY: 33.5},\n    animations: {\n        walk: [0, 6, \"run\"]\n    },\n    framerate: 15\n});\n\n\nclass Cat {\n  constructor(game, options = DEFAULTS) {\n    this.game = game;\n    this.color = options.COLOR;\n    this.pos = this.pos || this.game.randomPosition();\n    this.radius = options.RADIUS;\n    this.vel = this.vel || Util.randomVec(options.SPEED);\n\t\tthis.dmg = options.DMG;\n    this.moving = true;\n    this.scratching = false;\n    this.container = new createjs.Container();\n    this.container.x = this.pos[0];\n    this.container.y = this.pos[1];\n\n    this.background = new createjs.Shape();\n    this.sprite = new createjs.Sprite(spriteSheet, \"run\");\n    this.container.addChild(this.background, this.sprite);\n    this.background.graphics.drawRect(0, 0, 95, 71);\n    this.background.alpha = 0;\n    this.background.regX = 47.5;\n    this.background.regY = 35.5;\n    this.sprite.x = 2;\n    this.sprite.y = 2;\n    this.sprite.gotoAndPlay;\n  }\n\n\n\n  move(timeDelta) {\n    const velocityScale = timeDelta / 1000,\n        offsetX = this.vel[0] * velocityScale,\n        offsetY = this.vel[1] * velocityScale;\n\n    this.pos = [this.pos[0] + offsetX, this.pos[1] + offsetY];\n    if (this.game.isOutOfBoundsY(this.pos)) {\n      this.pos = this.game.bounce(this.pos);\n      this.vel[1] = -(this.vel[1]);\n    }\n    if (this.game.isOutOfBoundsX(this.pos)) {\n      this.moving = false;\n      this.scratching = true;\n    }\n    this.container.x = this.pos[0];\n    this.container.y = this.pos[1];\n  }\n\n}\n\n\n\nCat.sprite = new createjs.Sprite(spriteSheet, \"run\");\n\nmodule.exports = Cat;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/cat.js\n// module id = 2\n// module chunks = 0","const Game = require('./game.js');\n\ndocument.addEventListener(\"DOMContentLoaded\", function(){\n  const canvas = document.getElementsByTagName(\"canvas\")[0];\n  const stage = new createjs.Stage(canvas);\n  stage.mouseEventsEnabled = true;\n  stage.canvas.style.cursor = \"none\";\n\n  let game = new Game(canvas, stage)\n  game.load();\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/main.js\n// module id = 3\n// module chunks = 0"],"sourceRoot":""}